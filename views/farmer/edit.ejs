<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h3 class="mb-4" style="color: #3b5323;">Edit Crop</h3>
                    <% if (success_msg && success_msg.length > 0) { %>
                        <div class="alert alert-success"><%= success_msg %></div>
                    <% } %>
                    <% if (error_msg && error_msg.length > 0) { %>
                        <div class="alert alert-danger"><%= error_msg %></div>
                    <% } %>
                    <form action="/farmer/crops/<%= crop._id %>" method="POST">
                        <div class="mb-3">
                            <label for="name" class="form-label">Crop Name</label>
                            <input type="text" class="form-control" id="name" name="name" value="<%= crop.name %>" required>
                        </div>
                        <div class="mb-3">
                            <label for="image" class="form-label">Image URL</label>
                            <input type="text" class="form-control" id="image" name="image" value="<%= crop.image %>" required>
                        </div>
                        <div class="mb-3">
                            <label for="location" class="form-label">Location</label>
                            <input type="text" class="form-control" id="location" name="location" value="<%= crop.location %>" required>
                        </div>
                        <div class="mb-3">
                            <label for="price" class="form-label">Price (â‚¹/unit)</label>
                            <input type="number" class="form-control" id="price" name="price" min="0" step="0.01" value="<%= crop.price %>" required>
                        </div>
                        <div class="mb-3">
                            <label for="quantity" class="form-label">Quantity</label>
                            <input type="number" class="form-control" id="quantity" name="quantity" min="1" value="<%= crop.quantity %>" required>
                        </div>
                        <div class="mb-3">
                            <label for="unit" class="form-label">Unit</label>
                            <select class="form-select" id="unit" name="unit">
                                <option value="kg" <%= crop.unit === 'kg' ? 'selected' : '' %>>kg</option>
                                <option value="ton" <%= crop.unit === 'ton' ? 'selected' : '' %>>ton</option>
                                <option value="piece" <%= crop.unit === 'piece' ? 'selected' : '' %>>piece</option>
                                <option value="box" <%= crop.unit === 'box' ? 'selected' : '' %>>box</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="category" class="form-label">Category</label>
                            <select class="form-select" id="category" name="category">
                                <option value="vegetables" <%= crop.category === 'vegetables' ? 'selected' : '' %>>Vegetables</option>
                                <option value="fruits" <%= crop.category === 'fruits' ? 'selected' : '' %>>Fruits</option>
                                <option value="grains" <%= crop.category === 'grains' ? 'selected' : '' %>>Grains</option>
                                <option value="dairy" <%= crop.category === 'dairy' ? 'selected' : '' %>>Dairy</option>
                                <option value="other" <%= crop.category === 'other' ? 'selected' : '' %>>Other</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="harvestDate" class="form-label">Harvest Date</label>
                            <input type="date" class="form-control" id="harvestDate" name="harvestDate" value="<%= crop.harvestDate ? crop.harvestDate.toISOString().substring(0, 10) : '' %>">
                        </div>
                        <div class="mb-3">
                            <label for="expiryDate" class="form-label">Expiry Date</label>
                            <input type="date" class="form-control" id="expiryDate" name="expiryDate" value="<%= crop.expiryDate ? crop.expiryDate.toISOString().substring(0, 10) : '' %>">
                        </div>
                        <div class="mb-3">
                            <label for="organic" class="form-label">Organic</label>
                            <select class="form-select" id="organic" name="organic">
                                <option value="false" <%= !crop.organic ? 'selected' : '' %>>No</option>
                                <option value="true" <%= crop.organic ? 'selected' : '' %>>Yes</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="certification" class="form-label">Certification</label>
                            <input type="text" class="form-control" id="certification" name="certification" value="<%= crop.certification %>">
                        </div>
                        <div class="mb-3">
                            <label for="description" class="form-label">Description</label>
                            <textarea class="form-control" id="description" name="description" rows="2"><%= crop.description %></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary" style="background-color: #3b5323; border-color: #3b5323;">Update Crop</button>
                        <a href="/farmer/crops" class="btn btn-secondary ms-2">Cancel</a>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div> 